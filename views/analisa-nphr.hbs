<div id="loader">
  <div class="spinner"></div>
</div>
<script>
  window.addEventListener('load', function load() {
    const loader = document.getElementById('loader');
    setTimeout(function () {
      loader.classList.add('fadeOut');
    }, 300);
  });
</script>
<div>
  <!-- #Left Sidebar ==================== -->
  <div class="sidebar">
    <div class="sidebar-inner">
      <!-- ### $Sidebar Header ### -->
      <div class="sidebar-logo">
        <div class="peers ai-c fxw-nw">
          <div class="peer peer-greed">
            <a class="sidebar-link td-n" href="/">
              <div class="peers ai-c fxw-nw">
                <div class="peer">
                  <div class="logo">
                    <img src="/images/logo.png" alt="" style="height: 60px;">
                  </div>
                </div>
                <div class="peer peer-greed">
                  <h5 class="mB-0 logo-text">SIMANIS</h5>
                  <h6 class="small mB-0 logo-text">Sistem Manajemen Efisiensi</h6>
                </div>
              </div>
            </a>
          </div>
          <div class="peer">
            <div class="mobile-toggle sidebar-toggle">
              <a href="" class="td-n">
                <i class="ti-arrow-circle-left"></i>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- ### $Sidebar Menu ### -->
      <ul class="sidebar-menu scrollable pos-r">
        <li class="nav-item mT-20">
          <a class="sidebar-link" href="/">
            <span class="icon-holder">
              <i class="ti-home c-blue-500"></i>
            </span>
            <span class="title">Beranda</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/unit">
            <span class="icon-holder">
              <i class="c-teal-500 ti-view-list-alt"></i>
            </span>
            <span class="title">Data Unit</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/data-nphr">
            <span class="icon-holder">
              <i class="c-orange-500 ti-layout-list-thumb"></i>
            </span>
            <span class="title">Data NPHR</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/analisa-nphr">
            <span class="icon-holder">
              <i class="c-indigo-500 ti-bar-chart"></i>
            </span>
            <span class="title">Analisis NPHR</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/pemakaian-sendiri">
            <span class="icon-holder">
              <i class="c-light-blue-500 ti-pulse"></i>
            </span>
            <span class="title">Pemakaian Sendiri</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/maturity-level">
            <span class="icon-holder">
              <i class="c-purple-500 ti-stats-up"></i>
            </span>
            <span class="title">Maturity Level</span>
          </a>
        </li>
        <li class="nav-item">
          <a class='sidebar-link' href="/laporan">
            <span class="icon-holder">
              <i class="c-red-500 ti-files"></i>
            </span>
            <span class="title">Laporan</span>
          </a>
        </li>
        <li class="nav-item dropdown">
          <a class="sidebar-link" href="/download">
            <span class="icon-holder">
              {{!-- <i class="fas fa-download text-primary-faded"></i>  --}}
              <span class="ti-download"></span>
            </span>
            <span class="title">Download</span>
          </a>
        </li>
      </ul>
    </div>
  </div>

  <!-- #Main ============================ -->
  <div class="page-container">
    <!-- ### Topbar ### -->
    <div class="header navbar">
      <div class="header-container">
        <ul class="nav-right">
          <li class="notifications mr-3">
            <a href="/auth/signout">
              Logout
            </a>
          </li>
        </ul>
      </div>
    </div>

    <!-- ### Screen Content ### -->
    <main class='main-content bgc-grey-100'>
      <div id='mainContent'>
        <div class="row gap-20 masonry pos-r">
          <div class="masonry-sizer col-md-6"></div>
          <div class="masonry-item col-12">
            <div class="mb-2">
              <a href="/input-data-analisa-nphr" class="btn btn-primary btn-lg float-sm-right">Input Data Analisis
                NPHR</a>
              <h3 class="c-grey-900 mB-20">Analisis NPHR</h3>
            </div>
            <div class="bgc-white bd bdrs-3 p-20">
              <h4 class="c-grey-900 mB-20">Data Analisis NPHR</h4>
              <form action="">
                <div class="form-group row">
                  <label for="bulanTahun" class="col-sm-1 col-form-label">Periode</label>
                  <div class="col-sm-2">
                    <div id="datepickerBulanTahun" class="input-group date" data-date-format="mm-yyyy">
                      <input id="bulanTahun" class="form-control" type="text" readonly />
                      <div class="input-group-append">
                        <span class="input-group-text input-group-addon"><i class="ti-calendar"></i></span>
                      </div>
                    </div>
                  </div>
                  <label for="upk" class="col-sm-1 col-form-label">UPK</label>
                  <div class="col-sm-2" id="upk">
                    <select id="inputState" class="form-control">
                      <option selected="selected">Pilih UPK...</option>
                      <option value="upkBelawan">UPK Belawan</option>
                      <option value="upkPangkalanSusu">UPK Pangkalan Susu</option>
                      <option value="upkNaganRaya">UPK Nagan Raya</option>
                      <option value="upkLabuhanAngin">UPK Labuhan Angin</option>
                      <option value="updkPekanbaru">UPK Pekan Baru</option>
                      <option value="updkPandan">UPK Pandan</option>
                    </select>
                  </div>
                  <label for="ulpl" class="col-sm-1 col-form-label">ULPL</label>
                  <div class="col-sm-2" id="ulpl">
                    <select id="inputState" class="form-control">
                      <option selected="selected">Pilih ULPL...</option>
                    </select>
                  </div>
                  <div class="form-group col-sm-2">
                    <button class="btn btn-primary">Tampilkan data</button>
                  </div>
                </div>
              </form>
              <table id="table-data-analisa-nphr" class="table table-bordered mt-5" cellspacing="0" width="100%">
                <thead>
                  <tr>
                    <th>Parameter</th>
                    <th>Baseline</th>
                    <th>Actual</th>
                    <th>Heat Rate Factor</th>
                    <th>Deviasi</th>
                    <th>Deviasi Heat Rate</th>
                    <th>Losses (%HR)</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                  <tr>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="masonry-item col-md-8">
            <div class="bgc-white p-20 bd">
              <h4 class="c-grey-900">Heat Loss Waterfall</h4>
              <div class="mT-30">
                <canvas id="waterfall-chart" height="160"></canvas>
              </div>
            </div>
          </div>
          <div class="masonry-item col-md-8">
            <div class="bgc-white p-20 bd">
              <h4 class="c-grey-900">Pareto Heat Rate</h4>
              <div class="mT-30">
                <canvas id="pareto-chart" height="160"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

  </div>
</div>
<script>
  $(document).ready(function () {
    $('#table-data-analisa-nphr').DataTable({
      searching: false
    });
  });
  $(function () {
    $("#datepickerBulanTahun").datepicker({
      autoclose: true,
      todayHighlight: true,
      format: "mm-yyyy",
      startView: "months",
      minViewMode: "months"
    }).datepicker('update', new Date());
  });

  const waterfallChartBox = document.getElementById('waterfall-chart');
  if (waterfallChartBox) {
    const waterfallCtx = waterfallChartBox.getContext('2d');
    new Chart(waterfallCtx, {
      type: 'bar',
      data: {
        labels: ['Actual', 'Param 1', 'Param 2', 'Param 3', 'Param 4', 'Param 5', 'Reference'],
        datasets: [{
          label: 'Deviasi Heat Rate (kCal/kWh)',
          backgroundColor: '#2196f3',
          borderColor: '#1976d2',
          borderWidth: 1,
          data: [3200, 24, 30, 40, 50, 100, 3002],
        }],
      },

      options: {
        responsive: true,
        legend: {
          position: 'bottom',
        },
      },
    });
  }

  const paretoChartBox = document.getElementById('pareto-chart');
  if (paretoChartBox) {
    const paretoCtx = paretoChartBox.getContext('2d');
    new Chart(paretoCtx, {
      type: 'bar',
      data: {
        labels: ['1', '2', '3', '4', '5'],
        datasets: [{
          label: 'HR Losses',
          backgroundColor: '#673ab7',
          borderColor: '#512da8',
          borderWidth: 1,
          data: [10, 20, 30, 40, 50],
        }, {
          label: 'HR Cummulative',
          backgroundColor: '#2196f3',
          borderColor: '#1976d2',
          borderWidth: 1,
          data: [10, 20, 30, 40, 50],
        }],
      },

      options: {
        responsive: true,
        legend: {
          position: 'bottom',
        },
      },
    });
  }
</script>